{{ define "main" }}
    <div class="project__content">
        {{ $image := resources.Get (print "images/" $.Params.Image) | fingerprint }}
        <a href="{{ $image.Permalink }}" target="_blank" rel="noopener">
            <img src="{{ $image.Permalink }}" class="project__image" alt="{{ $.Title}} Screenshot"/>
        </a>
        <div class="project__attributes">
            <h1 class="project__title">{{ $.Title }}</h1>

            <div class="project__attribute">
                <div class="project__attribute__label">Client</div>
                <div>{{ $.Params.Client }}</div>
            </div>

            <div class="project__attribute">
                <div class="project__attribute__label">Contributors</div>
                <div>
                    {{ range $index, $contributor := $.Params.Contributors }}
                        {{ $contributor }}{{ if ne $index (sub (len $.Params.Contributors) 1) }},{{ end }}
                    {{ end }}
                </div>
            </div>

            <div class="project__attribute">
                <div class="project__attribute__label">Languages</div>
                <div>
                    {{ range $index, $language := $.Params.Languages }}
                        {{ $language }}{{ if ne $index (sub (len $.Params.Languages) 1) }},{{ end }}
                    {{ end }}
                </div>
            </div>

            <div class="project__attribute">
                <div class="project__attribute__label">Location</div>
                <div><a href="{{ $.Params.Location }}" target="_blank" rel="noopener">{{ $.Params.Location }}</a></div>
            </div>

            <div class="project__attribute">
                <div class="project__attribute__label">Technologies</div>
                {{ range $technology := $.Params.Technologies }}
                    {{ partial "partials/technology-link.html" (dict "technology" $technology ) }}
                {{ end }}
            </div>
        </div>
    </div>

    <div class="project__details">
        <div>
            {{/* Description is a reserved keyword in Hugo for params. */}}
            <h2 class="project__details__h2">Details</h2>
            {{ range $.Params.Details }}
                <p class="project__details__p">{{ . }}</p>
            {{ end }}
        </div>

        <div>
            <h2 class="project__details__h2">Contributions</h2>
            {{ range $.Params.Contributions }}
                <p class="project__details__p">{{ . }}</p>
            {{ end }}
        </div>

        <div>
            <h2 class="project__details__h2">Obstacles</h2>
            {{ range $.Params.Obstacles }}
                <p class="project__details__p">{{ . }}</p>
            {{ end }}
        </div>
    </div>
    {{ .Content }}
{{ end }}